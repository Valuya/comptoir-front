<div>
    <div class="toPayHeader coloredHeader"
         [hidden]="remainingAmount <= 0">
        <h1>À payer</h1>
         <span class="actions">
        <span class="total single" [class.negative]="remainingAmount < 0" [class.exact]="remainingAmount == 0">
            {{ remainingAmount | currency:'EUR':true:'.2-2' }}
        </span>
        </span>
    </div>
    <div class="toPayHeader coloredHeader"
        [hidden]="remainingAmount > 0">
        <h1>À rendre</h1>
        <span class="actions">
            <span class="total negative">
                {{ -remainingAmount | currency:'EUR':true:'.2-2'}}
            </span>
            <span class="action validateLink" (click)="onValidateClicked()">
                Valider
            </span>
        </span>
    </div>
</div>

<table class="usedMethod dataTable" [hidden]="payList.length == 0">
    <thead>
    <tr>
        <th>Compte</th>
        <th class="number">Montant</th>
        <th class="actions"></th>
    </tr>
    </thead>
    <tbody>
    <tr *ng-for="#pay of payList">
        <td>{{ pay.account.description[language] }}</td>
        <td class="number">
            <a class="edit actionlink" (^click)="startEditPay(pay.method)">
                {{ pay.amount | currency:'EUR':true:'.2-2' }}
            </a>
        </td>

        <td class="actions">
            <a class="actionIcon remove" (^click)="removePay(pay)">
                <i class="fi-x red"></i>
            </a>
        </td>
    </tr>
    </tbody>
    <tfoot>
    <tr>
        <th class="total">Total:</th>
        <th class="total">
            {{ paidAmount | currency:'EUR':true:'.2-2' }}
        </th>
    </tr>

    </tfoot>
</table>

<div class="editMethod" *ng-if="editingPay != null">
    <span class="method">{{ editingPay.account.description[language] }}</span>
    <span class="amount">
        Montant: <input #amount [value]="editingPay.amount"
                        type="number" min="0.01" step="0.01"
                        (keyUp)="onPayAmountKeyUp(amount.value, $event)" autofocusselect> €
    </span>
</div>

<div class="addMethod">
    <div *ng-for="#account of allAccounts"
         class="boxedHoverableLink"
         (^click)="startEditPay(account)">
        {{ account.description[language] }}
    </div>
</div>