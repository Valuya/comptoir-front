<div class="commandView">

    <commandViewHeader [no-input]="noInput"
                       [validated]="validated"
                       (validate-changed)="onValidateChanged($event)"></commandViewHeader>

<commandViewTable [no-input]="noInput"
                  [validated]="validated"
        [items]="activeSaleService.saleItemsResult.list"
        (item-removed)="onItemRemoved($event)"></commandViewTable>


    <table class="dataTable" *ng-if="activeSaleService.saleItemsResult != null"
           [hidden]="activeSaleService.saleItemsResult.count == 0">

        <tfoot [hidden]="activeSaleService.saleItemsResult?.list?.length <= 0">
        <tr [hidden]="activeSaleService.sale.discountRatio == null || activeSaleService.sale.discountRatio <= 0"
            class="details">
            <th colspan="3" class="saleFooter reduction">
                RÃ©duction {{ (activeSaleService.sale.discountRatio * 100) | number:'.0' }}%
            </th>
            <th class="saleFooter reduction number">
                -{{ activeSaleService.sale.discountAmount | currency:'EUR':true:'.2-2'}}
            </th>
        </tr>
        <tr class="details">
            <th colspan="3" class="saleFooter">Total HTVA</th>
            <th class="saleFooter number">{{ activeSaleService.sale.vatExclusiveAmount | currency:'EUR':true:'.2-2'}}</th>
        </tr>
        <tr class="details">
            <th colspan="3" class="saleFooter">TVA</th>
            <th class="number saleFooter">{{ activeSaleService.sale.vatAmount | currency:'EUR':true:'.2-2'}}</th>
        </tr>

        <tr>
            <th colspan="3" class="total saleFooter">Total</th>
            <th class="total price number saleFooter">
                {{ (activeSaleService.sale.vatExclusiveAmount + activeSaleService.sale.vatAmount) | currency:'EUR':true:'.2-2' }}
            </th>
        </tr>
        </tfoot>
    </table>


</div>