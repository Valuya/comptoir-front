<appHeader title="Nouveau compte" inactive="true">
</appHeader>
<appContent title="Création d'un nouveau compte">
    <form (^submit)="doRegister($event)" [ng-form-model]="registerForm"
          class="formTable">
        <h2>Compagnie</h2>
        <div>
            <langSelect [display-locale]="appLocale"
                    [selected-language]="editLanguage"
                    (language-changed)="editLanguage = $event"></langSelect>
        </div>
        <div>
            <input ng-control="companyName" type="text" placeholder="Nom de la compagnie"
                    #company-name="form" autofocus required>
            <formMessage [for]="companyName.control" [inline]="true"
                         check-error="required" message="Entrez un nom"></formMessage>
        </div>
        <div>
            <input  ng-control="companyDescription" type="text" placeholder="Description de la compagnie"
                    localized [language]="editLanguage"
                    [locale-texts]="companyDescriptions"
                    #company-description="form" required>
            <formMessage [for]="companyDescription.control" [inline]="true"
                         check-error="required" message="Entrez une description"></formMessage>
        </div>

        <h2>Employé</h2>
        <div>
            <select ng-control="employeeLanguage" required>
                <option *ng-for="#language of allLanguages"
                        [value]="language.locale">
                    {{ language.label[appLocale] }}
                </option>
            </select>
        </div>
        <div>
            <input ng-control="employeeFirstName" type="text" placeholder="Prénom"
                   #employee-first-name="form" required>
            <formMessage [for]="employeeFirstName.control" [inline]="true"
                         check-error="required" message="Entrez votre prénom"></formMessage>
        </div>
        <div>
            <input ng-control="employeeLastName" type="text" placeholder="Nom"
                   #employee-last-name="form" required>
            <formMessage [for]="employeeLastName.control" [inline]="true"
                         check-error="required" message="Entrez votre nom"></formMessage>
        </div>

        <h2>Identifiants</h2>
        <div>
            <input ng-control="login" type="text" placeholder="Login"
                   #login="form" required>
            <formMessage [for]="login.control" [inline]="true"
                         check-error="required" message="Entrez un login"></formMessage>
        </div>
        <div>
            <input ng-control="password" type="password" placeholder="Mot de passe"
                   #password="form" required>
            <formMessage [for]="password.control" [inline]="true"
                         check-error="required" message="Entrez un mot de passe"></formMessage>
            <formMessage [for]="password.control" [inline]="true"
                         check-error="passwordTooShort" message="Le mot de passe doit faire 8 caratères minimum"></formMessage>
        </div>
        <div>
            <button type="submit" [disabled]="!registerForm.valid">Créer un compte</button>
        </div>
    </form>
</appContent>